---
title: "Configurando los Cimientos - DNS para Nuestro Ecosistema"
date: 2025-07-04
lastUpdated: 2025-07-04
tags: ["DNS", "GoDaddy", "Networking", "Pi-hole", "Kubernetes", "DevOps", "Azure"]
excerpt: "El primer paso práctico de nuestra serie. Aprende a configurar los registros DNS públicos en GoDaddy y a gestionar dominios de desarrollo locales."
authors:
    - wclg
readingTime: 120
featured: true
---

import { Aside, Steps, Tabs, TabItem, FileTree, LinkCard } from '@astrojs/starlight/components';
import Default from '@astrojs/starlight/components/MarkdownContent.astro'
import ImageZoom from 'starlight-image-zoom/components/ImageZoom.astro'
import { Image } from 'astro:assets';

<ImageZoom/>

¡Bienvenido al primer paso práctico de nuestra serie! En nuestra [Hoja de Ruta](/blog/link-a-la-hoja-de-ruta), nos comprometimos a construir una aplicación robusta, y todo comienza por darle a nuestros servicios una dirección clara y accesible a través del **Sistema de Nombres de Dominio (DNS)**.

### El Plan de Direccionamiento

Nuestra estrategia de direccionamiento se divide en dos categorías:

#### Dominios Públicos (Expuestos a Internet)
1.  `services.codedesignplus.app`: El punto de entrada único (Ingress) para todos nuestros microservicios en Kubernetes.
2.  `inventory.codedesignplus.app`: El dominio para nuestra aplicación frontend en Angular.

#### Dominios Locales (Solo para Desarrollo)
1.  `rabbitmq.codedesignplus.app`
2.  `redis.codedesignplus.app`
3.  `vault.codedesignplus.app`

---

### Parte 1: Configurando los Registros Públicos en GoDaddy

Comenzamos con los dominios que el mundo necesita ver.

**Prerrequisito:** La **dirección IP pública** de tu Load Balancer o servidor (190.26.134.241).

1.  **Inicia sesión en GoDaddy** y navega a la gestión de DNS para `codedesignplus.app`.

<Image src="/images/blogs/godaddy/1 - Inicia sesión en GoDaddy.png" alt="Creación del Tenant de Microsoft Entra" width="1600" height="900" decoding="async" loading="lazy"/>

2. Selecciona el DNS que deseas gestionar.

<Image src="/images/blogs/godaddy/2 - Selecciona el DNS que deseas gestionar.png" alt="Selecciona el DNS que deseas gestionar" width="1600" height="900" decoding="async" loading="lazy"/>

3. Selecciona **"Añadir un registro"**.

<Image src="/images/blogs/godaddy/3 - Añadir un registro.png" alt="Añadir un registro en GoDaddy" width="1600" height="900" decoding="async" loading="lazy"/>

4.  **Crea el registro para `services`:**
    *   **Tipo:** `A`
    *   **Nombre:** `services`
    *   **Valor:** `TU_DIRECCION_IP_PUBLICA`
    *   **TTL:** Por defecto.

    <Image src="/images/blogs/godaddy/4 - Crea el registro para services.png" alt="Crear el registro para services en GoDaddy" width="1600" height="900" decoding="async" loading="lazy"/>


5.  **Crea el registro para `inventory`:**
    *   **Tipo:** `A`
    *   **Nombre:** `inventory`
    *   **Valor:** `TU_DIRECCION_IP_PUBLICA`
    *   **TTL:** Por defecto.

    <Image src="/images/blogs/godaddy/5 - Crea el registro para inventory.png" alt="Crear el registro para inventory en GoDaddy" width="1600" height="900" decoding="async" loading="lazy"/>

6. **Guarda los cambios** y verifica que los registros se hayan creado correctamente.

<Image src="/images/blogs/godaddy/6 - Verifica los registros creados.png" alt="Verifica los registros creados en GoDaddy" width="1600" height="900" decoding="async" loading="lazy"/>

> **Nota sobre la Propagación:** Los cambios en los DNS pueden tardar un tiempo en propagarse. ¡Paciencia!
> Puedes verificar la propagación usando herramientas como [WhatsMyDNS](https://www.whatsmydns.net/) o [DNS Checker](https://dnschecker.org/) para asegurarte de que tus registros están activos y accesibles globalmente.

<Tabs>
    <TabItem label="Inventory">
        <Image src="/images/blogs/godaddy/7 - Inventory DNS Check.png" alt="Inventory" width="1600" height="900" decoding="async" loading="lazy" />
    </TabItem>
    <TabItem label="Services">
        <Image src="/images/blogs/godaddy/8 - Services DNS Check.png" alt="Services" width="1600" height="900" decoding="async" loading="lazy" />
    </TabItem>
</Tabs>

---

### Parte 2: Configurando Dominios para el Entorno Local con Pi-hole

Para nuestros dominios de desarrollo, implementaremos una solución robusta y centralizada: un servidor DNS local con **Pi-hole**.

> En un próximo artículo detallaremos la instalación manual de Pi-hole. Por ahora, nos centraremos en cómo lo usaríamos una vez instalado.

#### Paso 1: Añadir Registros DNS Locales en Pi-hole

1.  Accede a la consola de administración de Pi-hole.
2.  En el menú, ve a **"Local DNS" > "DNS Records"**.
3.  Añade los siguientes registros, apuntando a la dirección IP donde se ejecutarán los servicios (para este tutorial, usaremos `port-forward` desde `localhost`, por lo que apuntaremos a `127.0.0.1`).
    *   **Domain:** `rabbitmq.codedesignplus.app`, **IP Address:** `127.0.0.1`
    *   **Domain:** `redis.codedesignplus.app`, **IP Address:** `127.0.0.1`
    *   **Domain:** `vault.codedesignplus.app`, **IP Address:** `127.0.0.1`

{/* Incluir captura de pantalla del panel "Local DNS Records" de Pi-hole. */}

#### Paso 2: Configurar tu Sistema Operativo para Usar Pi-hole

Este es el paso final para que tu entorno local funcione. Debes indicarle a tu computadora que use Pi-hole como su servidor DNS principal.

1.  Abre la configuración de red de tu sistema operativo (Windows, macOS o Linux).
2.  En la configuración de DNS, reemplaza los servidores existentes por la **dirección IP de la máquina donde instalaste Pi-hole**.

Con esto, cada vez que tu navegador o terminal intente acceder a `vault.codedesignplus.app`, tu sistema preguntará a Pi-hole, y Pi-hole le responderá con `127.0.0.1`.

---

### Visión a Futuro: De un Entorno Local a Producción en la Nube

Es crucial entender que la configuración que acabamos de realizar está optimizada para un **entorno de desarrollo local**. Nuestro objetivo principal con esta serie es darte el control total sobre cada componente de la infraestructura sin incurrir en gastos, permitiéndote aprender y experimentar libremente.

**¿Cómo se vería esto en un entorno de producción real, por ejemplo, en Microsoft Azure?**

1.  **DNS Privado:** La funcionalidad que nos da Pi-hole sería reemplazada por un servicio gestionado como **Azure Private DNS**. Crearíamos una "Zona DNS Privada" donde registraríamos nuestros dominios internos (`rabbitmq.codedesignplus.app`, etc.) para que solo sean visibles dentro de nuestra red virtual (VNet) en Azure.

2.  **Conectividad Segura:** Para que los desarrolladores y los sistemas de CI/CD puedan acceder a estos recursos internos, no se expondrían directamente a Internet. La conexión se establecería a través de una **Azure VPN Gateway** o **ExpressRoute**. En el caso de sistemas de CI/CD como **GitHub Actions**, esto implicaría configurar **runners autohospedados (self-hosted runners)** dentro de la VNet de Azure, dándoles acceso directo y seguro a la infraestructura interna para realizar despliegues.

Abordaremos estas configuraciones de nivel de producción en futuros artículos avanzados. Por ahora, nuestro enfoque local te dará una comprensión profunda de los mecanismos subyacentes.

### Conclusión

¡Felicidades! Has completado el primer paso técnico y fundamental. Hemos establecido el mapa de direcciones para toda nuestra aplicación, separando limpiamente lo público de lo privado y delineando cómo estos conceptos evolucionarían hacia un entorno de producción.

Con nuestros DNS listos para funcionar, estamos preparados para el siguiente paso: **sumergirnos en Microsoft Entra ID** para configurar la capa de identidad de nuestra aplicación. ¡No te lo pierdas!