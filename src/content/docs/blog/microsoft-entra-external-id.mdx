---
title: "Microsoft Entra External ID: Una Nueva Era en la Gestión de Identidades"
date: 2024-06-15
lastUpdated: 2024-06-15
tags: ["Microsoft", "Identidades", "Seguridad"]
excerpt: "Explora cómo Microsoft Entra External ID transforma la gestión de identidades en un mundo digital."
authors:
    - wclg
readingTime: 120
featured: true
---

import Default from '@astrojs/starlight/components/MarkdownContent.astro'
import ImageZoom from 'starlight-image-zoom/components/ImageZoom.astro'
import { Image } from 'astro:assets';

<ImageZoom/>

Microsoft Entra External ID es una solución innovadora que redefine la forma en que las organizaciones gestionan las identidades externas. Con un enfoque en la seguridad y la facilidad de uso, esta herramienta permite a las empresas conectar de manera segura con usuarios externos, como clientes y socios comerciales.

## Características Clave
- **Seguridad Avanzada**: Implementa autenticación multifactor y políticas de acceso condicional para proteger los datos sensibles.
- **Integración Sencilla**: Compatible con aplicaciones existentes y servicios en la nube, facilitando una transición fluida.
- **Experiencia de Usuario Mejorada**: Proporciona un proceso de registro y acceso intuitivo, reduciendo la fricción para los usuarios externos.

## Beneficios para las Organizaciones
- **Escalabilidad**: Permite gestionar un gran número de identidades externas sin comprometer la seguridad.
- **Cumplimiento Normativo**: Ayuda a las organizaciones a cumplir con regulaciones de protección de datos, como GDPR y CCPA.
- **Colaboración Efectiva**: Facilita la colaboración entre equipos internos y externos, mejorando la productividad y la comunicación.  

# Laboratorio Práctico

Los siguientes pasos te guiarán a través de un laboratorio práctico para implementar Microsoft Entra External ID en tu organización:

1. Creación del Tenant de Microsoft Entra.
<Image src="/images/blogs/microsoft-entra-external-id/1.png" alt="Creación del Tenant de Microsoft Entra" width="1600" height="900" decoding="async" loading="lazy"/>



2. Crear el Role de Super Administrador para nuestro sistema.
3. Crear la Aplicación en Microsoft Entra External ID.
4. Create Custom Claim Phone Number.
5. Crear el Flujo de autenticación y registro de usuarios externos.
6. Registrar los custom authentication extensions.
7. Asociar el Custom Authentication Extension al flujo (Attribute collection submit)
8. Asociar el Custom Authentication Extension a la aplicación como proveedor de claims (Token issuance start)
9. Agregar claims a la aplicación.
10. Agregar el claim groups al token de acceso.


# Configuración de Permisos para el ms-microsoft-graph

1. Abrir la aplicación de Microsoft Graph que creamos al momento de crear los Custom Authenticaion extensions
2. Agregar los siguientes permisos requeridos para el ms-microsoft-graph:

DeviceManagementConfiguration.Read.All
DeviceManagementConfiguration.ReadWrite.All
DeviceManagementServiceConfig.Read.All
DeviceManagementServiceConfig.ReadWrite.All
Directory.Read.All
Directory.ReadWrite.All
Group.Read.All
Group.ReadWrite.All
GroupMember.ReadWrite.All
User.EnableDisableAccount.All
User.Read.All
User.ReadWrite.All

3. Create Client Secret para conectar nuestro microservicio ms-microsoft-graph con Microsoft Entra External ID.

Nota: Guarda el secreto en un lugar seguro para configurar tu ms-microsoft-graph.


En la proxima sección aprenderas a desplegar tu cluster de kubernetes en Azure y exponer tus servicios

Tambien aprenderas a configurar tu Vault para que los microservicios puedan conectar 